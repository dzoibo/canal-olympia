<div id="global-container" [ngClass]="selectedTab==='about'?'pb-[85px]':'pb-0'" class="flex flex-col bg-[#0A1445] w-screen h-screen overflow-auto" >
  <ion-header class=" backdrop-blur-[20px] w-full bg-[#0c2080]/[0.5] ">
    <div class="flex items-center h-16">
      <svg (click)="backToHome()" class="shrink-0 ml-6 mr-[80px]" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M15.9805 3.49024C15.7207 3.49798 15.4741 3.60656 15.293 3.79298L7.79302 11.293C7.60555 11.4805 7.50024 11.7348 7.50024 12C7.50024 12.2652 7.60555 12.5195 7.79302 12.707L15.293 20.207C15.3852 20.303 15.4955 20.3796 15.6177 20.4324C15.7398 20.4852 15.8712 20.5131 16.0043 20.5145C16.1373 20.5158 16.2693 20.4906 16.3925 20.4403C16.5156 20.39 16.6275 20.3157 16.7216 20.2216C16.8157 20.1275 16.8901 20.0156 16.9404 19.8924C16.9906 19.7692 17.0159 19.6373 17.0145 19.5042C17.0131 19.3712 16.9853 19.2397 16.9325 19.1176C16.8797 18.9955 16.8031 18.8851 16.7071 18.793L9.91411 12L16.7071 5.20704C16.8516 5.06658 16.9503 4.88574 16.9902 4.68822C17.0302 4.4907 17.0096 4.28571 16.931 4.10013C16.8525 3.91454 16.7197 3.75701 16.5501 3.64818C16.3805 3.53935 16.182 3.4843 15.9805 3.49024Z" fill="#637394"/>
      </svg>
      <ion-label class="w-full font-bold text-lg">Expandables 4</ion-label>
    </div>
    <div class=" relative text-[#637394] font-bold h-[48px] w-full flex items-center border-x-0 border-t-0 border-b-2  border-[#6D9EFF1A]">
        <ion-label (click)="setSelectedTab('about')" [ngClass]="selectedTab==='about'?'selected-tab':''" class=" text-center w-1/2">About</ion-label>
        <ion-label (click)="setSelectedTab('session')" [ngClass]="selectedTab==='session'?'selected-tab':''" class="text-center w-1/2">Session</ion-label>
        <div [ngStyle]="{'margin-left': selectedTab==='session'?'50%':'0%'}" id="tab-border"></div>
    </div>
  </ion-header>
  <div class="flex flex-col detail-container" *ngIf="selectedTab==='about'">
    <div class=" bg-[#0A1445]">

      <div  (click)="startVideo()" class="mx-[11px] mt-[12px] h-[198px] relative">
        <video poster="../../assets/images/movies/Imageexpandables.png" class="object-cover h-full w-full bg-black/[50%] rounded-[16px]">
          <source src="../../assets/video/Expandables_trailer.mp4" type="video/mp4">
          Your device doesn't support reading video
        </video>

        <div *ngIf="videoHasStarted===false" class="z-20 rounded-[72.72px] w-[58px] h-[58px] flex justify-center items-center absolute top-2/4 left-2/4 bg-white/[10%] translate-y-[-50%] translate-x-[-50%] backdrop-blur-[18px]">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="23" viewBox="0 0 22 23" fill="none">
            <path d="M5.36187 2.50519C4.31992 2.54641 3.36346 3.39648 3.36346 4.54176V18.5492C3.36346 20.0763 5.06472 21.0782 6.40057 20.3381L19.0408 13.3344C20.4151 12.5729 20.4151 10.5181 19.0408 9.75661L6.40057 2.75288C6.06661 2.56786 5.70918 2.49145 5.36187 2.50519Z" fill="white" fill-opacity="0.5"/>
          </svg>
        </div>
      </div>
      <div class="h-[71px] flex w-full ">
        <div class="h-full flex flex-col items-center justify-center w-1/2">
          <ion-label class="text-xl text-white mb-1">8.3</ion-label>
          <ion-label class="text-sm text-[#637394]">IMDB</ion-label>
        </div>
        <div id="item-border-left" class=" h-full flex flex-col items-center justify-center w-1/2">
          <ion-label class="text-xl text-white mb-1">7.9</ion-label>
          <ion-label class="text-sm text-[#637394]">Kinopoisk</ion-label>
        </div>
      </div>
    </div>
    <div class="grow flex flex-col backdrop-blur-[10px] bg-[#0c2080]/[0.3] ">
      <div class="text-sm p-4 text-white ">
        When the Riddler, a sadistic serial killer, begins murdering key political figures in Gotham, Batman is forced to investigate the city's hidden corruption and question his family's involvement.
      </div>
  
      <div class="grow  flex flex-col gap-3 px-4 text-sm text-[#637394]">
        <div class=" flex items-center gap-4">
          <ion-label class="w-[74px]">Certicate </ion-label>
          <ion-label class="rounded w-[39px] border-solid border border-[#6D9EFF1A]">16+</ion-label>
        </div>
        <div  class="flex items-center gap-4">
          <ion-label class="w-[74px]">Runtime</ion-label>
          <ion-label>02:56</ion-label>
        </div>
        <div class="flex items-center gap-4">
          <ion-label class="w-[74px]">Realease</ion-label>
          <ion-label>2023</ion-label>
        </div>
        <div class=" flex items-center gap-4">
          <ion-label class="w-[74px]">Genre</ion-label>
          <ion-label>Action,Crime,Drama</ion-label>
        </div>
        <div class="flex items-center gap-4">
          <ion-label class="w-[74px]">Director</ion-label>
          <ion-label>Matt Reeves</ion-label>
        </div>
        <div class="flex items-center gap-4">
          <ion-label class="min-w-[74px]">Cast</ion-label>
          <ion-label>Robert Pattinson, Zoë Kravitz, Jeffrey Wright, Colin Farrell, Paul Dano, John Turturro, 	Andy Serkis, Peter Sarsgaard</ion-label>
        </div>
      </div>
    </div>
    

    <div class="h-[84px] bg-[#0C208080] absolute bottom-4 w-full flex justify-center items-center" >
      <button (click)="setSelectedTab('session')" class="rounded-lg w-[343px] h-[56px] button-primary success-shadow ">Select session</button>
    </div>
  </div>
  <div class="detail-container bg-[#0A1445] relative pt-[106px]" *ngIf="selectedTab==='session'">
    <div class="absolute top-0 w-full">
      <div class="flex font-bold h-[76px] w-full text-sm text-white">
        <div class="flex flex-col items-center justify-center w-1/3">
          <svg class="mb-1" xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
            <path d="M21.5 7V6.25C21.5 4.458 20.042 3 18.25 3H6.75C4.958 3 3.5 4.458 3.5 6.25V7H21.5ZM3.5 8.5V17.75C3.5 19.542 4.958 21 6.75 21H18.25C20.042 21 21.5 19.542 21.5 17.75V8.5H3.5ZM8.25 18C7.5595 18 7 17.4405 7 16.75C7 16.0595 7.5595 15.5 8.25 15.5C8.9405 15.5 9.5 16.0595 9.5 16.75C9.5 17.4405 8.9405 18 8.25 18ZM8.25 13.5C7.5595 13.5 7 12.9405 7 12.25C7 11.5595 7.5595 11 8.25 11C8.9405 11 9.5 11.5595 9.5 12.25C9.5 12.9405 8.9405 13.5 8.25 13.5ZM12.5 18C11.8095 18 11.25 17.4405 11.25 16.75C11.25 16.0595 11.8095 15.5 12.5 15.5C13.1905 15.5 13.75 16.0595 13.75 16.75C13.75 17.4405 13.1905 18 12.5 18ZM12.5 13.5C11.8095 13.5 11.25 12.9405 11.25 12.25C11.25 11.5595 11.8095 11 12.5 11C13.1905 11 13.75 11.5595 13.75 12.25C13.75 12.9405 13.1905 13.5 12.5 13.5ZM16.75 13.5C16.0595 13.5 15.5 12.9405 15.5 12.25C15.5 11.5595 16.0595 11 16.75 11C17.4405 11 18 11.5595 18 12.25C18 12.9405 17.4405 13.5 16.75 13.5Z" fill="#637394"/>
          </svg>
          <ion-text >Oct,17</ion-text>
        </div>
        <div (click)="bottomModal='sort'" class="flex flex-col items-center justify-center w-1/3">
          <svg class="mb-4" xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
            <path d="M13.0185 4.208C12.729 3.9305 12.2715 3.9305 11.982 4.208L6.232 9.708C6.0105 9.92 5.9405 10.245 6.0545 10.5295C6.1685 10.814 6.4435 11 6.75 11H18.25C18.556 11 18.832 10.8135 18.9465 10.5295C19.0605 10.2455 18.99 9.92 18.769 9.708L13.0185 4.208ZM18.25 13H6.75C6.4435 13 6.168 13.1865 6.054 13.4705C5.94 13.7545 6.0105 14.08 6.2315 14.292L11.9815 19.792C12.1265 19.9305 12.313 20 12.5 20C12.687 20 12.8735 19.9305 13.0185 19.792L18.7685 14.292C18.9895 14.08 19.06 13.755 18.946 13.4705C18.832 13.1865 18.556 13 18.25 13Z" fill="#637394"/>
          </svg>
          <ion-text>Time 1</ion-text>
        </div>
        <div  class="opacity-50 flex flex-col items-center justify-center w-1/3">
          <div class="mb-4 p-1 bg-[#253554] h-6 w-10 rounded-[24px] bg-[#253554]">
            <div [ngClass]="isSwitchCinema?'switchOff':'switchOn'" id="switch-button" class="bg-[#637394] w-4 h-4 rounded-[50%]"></div>
          </div>
          <ion-text >By cinema</ion-text>
        </div>
      </div>
      <div class=" flex items-center h-[30px] px-4 text-xs bg-[#253554] text-[#637394]">
        <ion-label class="w-[74px] mr-8 text-center">Time</ion-label>
        <div class="flex grow text-left">
          <ion-label class="grow">Pre.first</ion-label>
          <ion-label class="grow">Prev</ion-label>
          <ion-label class="grow">Stand</ion-label>
          <ion-label class="grow">Child</ion-label>
        </div>
      </div>
    </div>
     <div class="h-full overflow-y-auto">
        <div *ngFor="let session of moviePlanning[0].sessions" (click)="selectSession(session.id)"  class="text-white h-[78px] flex items-center px-4 border-solid border-b border-[#637394]">
          <div class="flex flex-col items-center justify-center h-[42px] w-[74px]">
            <ion-label class="text-xl font-bold mb-1">{{session.time}}</ion-label>
            <ion-label class="text-xs text-[#637394]">{{session.language}}</ion-label>
          </div>
          <div class="h-[46px] border-solid border-l border-[#6D9EFF1A] mx-4"></div>
          <div class="grow">
            <ion-label class="font-bold mb-1 text-sm">{{getLocation(session.locationId)}}</ion-label>
            <div  class="flex text-xs text-left">
              <ion-label class="grow">
                <ion-text *ngIf="session.price.pre_first>0">{{session.price.pre_first}} Frs</ion-text>
                <ion-text *ngIf="session.price.pre_first===0" class="text-[#637394]">•</ion-text>
              </ion-label>
              <ion-label class="grow">
                <ion-text *ngIf="session.price.prev>0">{{session.price.prev}} Frs</ion-text>
                <ion-text *ngIf="session.price.prev===0" class="text-[#637394]">•</ion-text>
              </ion-label>
              <ion-label class="grow">
                <ion-text *ngIf="session.price.stand>0">{{session.price.stand}} Frs</ion-text>
                <ion-text *ngIf="session.price.stand===0" class="text-[#637394]">•</ion-text>
              </ion-label>
              <ion-label class="grow">
                <ion-text *ngIf="session.price.child>0">{{session.price.child}} Frs</ion-text>
                <ion-text *ngIf="session.price.child===0" class="text-[#637394]">•</ion-text>
              </ion-label>
            </div>
          </div>
        </div>  
     </div>
    
  </div>

  <div [ngClass]="bottomModal!==''?'h-screen bg-black/[75%]':'bg-transparent h-0 hideModalTransition'" class=" w-screen overflow-hidden fixed  z-50 inset-0 ">
    <div class="z-0 absolute h-full w-full" (click)="bottomModal=''">
      
    </div>
  
    <div [ngClass]="bottomModal==='sort'?'showSheet':'hideSheet'" class=" bg-[#0A1445] text-white rounded-lg p-4 absolute w-full bottom-0">
        <ion-label class="text-[#637394] mb-4">Sort by</ion-label>
        <ion-item class="p-0">
          <svg class="mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M17.9952 6.00043C17.7354 6.00818 17.4888 6.11676 17.3077 6.30317L9.01468 14.5961L5.72172 11.3032C5.62957 11.2072 5.5192 11.1306 5.39707 11.0778C5.27495 11.025 5.14351 10.9971 5.01047 10.9958C4.87743 10.9944 4.74546 11.0196 4.62228 11.0699C4.4991 11.1202 4.3872 11.1946 4.29312 11.2886C4.19904 11.3827 4.12468 11.4946 4.07439 11.6178C4.0241 11.741 3.9989 11.8729 4.00025 12.006C4.0016 12.139 4.02949 12.2705 4.08227 12.3926C4.13506 12.5147 4.21168 12.6251 4.30765 12.7172L8.30765 16.7172C8.4952 16.9047 8.74951 17.01 9.01468 17.01C9.27986 17.01 9.53417 16.9047 9.72172 16.7172L18.7217 7.71723C18.8662 7.57677 18.9649 7.39593 19.0049 7.19841C19.0448 7.00089 19.0242 6.7959 18.9456 6.61032C18.8671 6.42473 18.7343 6.2672 18.5647 6.15838C18.3951 6.04955 18.1966 5.99449 17.9952 6.00043Z" fill="#637394"/>
          </svg>
          <ion-text>Time</ion-text>
        </ion-item>
        <ion-item>
          <svg class="mr-2 opacity-0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M17.9952 6.00043C17.7354 6.00818 17.4888 6.11676 17.3077 6.30317L9.01468 14.5961L5.72172 11.3032C5.62957 11.2072 5.5192 11.1306 5.39707 11.0778C5.27495 11.025 5.14351 10.9971 5.01047 10.9958C4.87743 10.9944 4.74546 11.0196 4.62228 11.0699C4.4991 11.1202 4.3872 11.1946 4.29312 11.2886C4.19904 11.3827 4.12468 11.4946 4.07439 11.6178C4.0241 11.741 3.9989 11.8729 4.00025 12.006C4.0016 12.139 4.02949 12.2705 4.08227 12.3926C4.13506 12.5147 4.21168 12.6251 4.30765 12.7172L8.30765 16.7172C8.4952 16.9047 8.74951 17.01 9.01468 17.01C9.27986 17.01 9.53417 16.9047 9.72172 16.7172L18.7217 7.71723C18.8662 7.57677 18.9649 7.39593 19.0049 7.19841C19.0448 7.00089 19.0242 6.7959 18.9456 6.61032C18.8671 6.42473 18.7343 6.2672 18.5647 6.15838C18.3951 6.04955 18.1966 5.99449 17.9952 6.00043Z" fill="#637394"/>
          </svg>
          <ion-text>Distance</ion-text>
        </ion-item>
        <ion-item lines="none">
          <svg class="mr-2 opacity-0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M17.9952 6.00043C17.7354 6.00818 17.4888 6.11676 17.3077 6.30317L9.01468 14.5961L5.72172 11.3032C5.62957 11.2072 5.5192 11.1306 5.39707 11.0778C5.27495 11.025 5.14351 10.9971 5.01047 10.9958C4.87743 10.9944 4.74546 11.0196 4.62228 11.0699C4.4991 11.1202 4.3872 11.1946 4.29312 11.2886C4.19904 11.3827 4.12468 11.4946 4.07439 11.6178C4.0241 11.741 3.9989 11.8729 4.00025 12.006C4.0016 12.139 4.02949 12.2705 4.08227 12.3926C4.13506 12.5147 4.21168 12.6251 4.30765 12.7172L8.30765 16.7172C8.4952 16.9047 8.74951 17.01 9.01468 17.01C9.27986 17.01 9.53417 16.9047 9.72172 16.7172L18.7217 7.71723C18.8662 7.57677 18.9649 7.39593 19.0049 7.19841C19.0448 7.00089 19.0242 6.7959 18.9456 6.61032C18.8671 6.42473 18.7343 6.2672 18.5647 6.15838C18.3951 6.04955 18.1966 5.99449 17.9952 6.00043Z" fill="#637394"/>
          </svg>
          <ion-text>Price</ion-text>
        </ion-item>
        <ion-label class="text-[#637394] my-4">Order</ion-label>
        <ion-item>
          <svg class="mr-2 opacity-0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M17.9952 6.00043C17.7354 6.00818 17.4888 6.11676 17.3077 6.30317L9.01468 14.5961L5.72172 11.3032C5.62957 11.2072 5.5192 11.1306 5.39707 11.0778C5.27495 11.025 5.14351 10.9971 5.01047 10.9958C4.87743 10.9944 4.74546 11.0196 4.62228 11.0699C4.4991 11.1202 4.3872 11.1946 4.29312 11.2886C4.19904 11.3827 4.12468 11.4946 4.07439 11.6178C4.0241 11.741 3.9989 11.8729 4.00025 12.006C4.0016 12.139 4.02949 12.2705 4.08227 12.3926C4.13506 12.5147 4.21168 12.6251 4.30765 12.7172L8.30765 16.7172C8.4952 16.9047 8.74951 17.01 9.01468 17.01C9.27986 17.01 9.53417 16.9047 9.72172 16.7172L18.7217 7.71723C18.8662 7.57677 18.9649 7.39593 19.0049 7.19841C19.0448 7.00089 19.0242 6.7959 18.9456 6.61032C18.8671 6.42473 18.7343 6.2672 18.5647 6.15838C18.3951 6.04955 18.1966 5.99449 17.9952 6.00043Z" fill="#637394"/>
          </svg>
          <ion-text>Ascending ↑</ion-text>
        </ion-item>
        <ion-item class="p-0" lines="none">
          <svg class="mr-2 opacity" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M17.9952 6.00043C17.7354 6.00818 17.4888 6.11676 17.3077 6.30317L9.01468 14.5961L5.72172 11.3032C5.62957 11.2072 5.5192 11.1306 5.39707 11.0778C5.27495 11.025 5.14351 10.9971 5.01047 10.9958C4.87743 10.9944 4.74546 11.0196 4.62228 11.0699C4.4991 11.1202 4.3872 11.1946 4.29312 11.2886C4.19904 11.3827 4.12468 11.4946 4.07439 11.6178C4.0241 11.741 3.9989 11.8729 4.00025 12.006C4.0016 12.139 4.02949 12.2705 4.08227 12.3926C4.13506 12.5147 4.21168 12.6251 4.30765 12.7172L8.30765 16.7172C8.4952 16.9047 8.74951 17.01 9.01468 17.01C9.27986 17.01 9.53417 16.9047 9.72172 16.7172L18.7217 7.71723C18.8662 7.57677 18.9649 7.39593 19.0049 7.19841C19.0448 7.00089 19.0242 6.7959 18.9456 6.61032C18.8671 6.42473 18.7343 6.2672 18.5647 6.15838C18.3951 6.04955 18.1966 5.99449 17.9952 6.00043Z" fill="#637394"/>
          </svg>
          <ion-text>Descending ↓</ion-text>
        </ion-item>
        <div class="flex items-center flex-col">
          <button class="my-4 button-primary w-[343px] h-14 rounded-lg success-shadow cursor-pointer">Apply</button>
        </div>
    </div>
    

  </div>
</div>
